# ๐ ุชุดุบูู Celery ููุญุต ุงูุทูุจุงุช - ุฏููู ุณุฑูุน

## โ ุงููุดููุฉ ุงูุญุงููุฉ
```
โฐ Step 15: Scheduling status check...
   โ๏ธ Failed to schedule status check: [WinError 10061] No connection could be made because the target machine actively refused it
```

**ุงูุณุจุจ**: Celery Worker ุบูุฑ ูุชุตู ูุฃู Redis ุบูุฑ ูุดุบูู.

## โ ุงูุญู ุงูุณุฑูุน (ุฎุทูุชุงู)

### 1๏ธโฃ ุชุซุจูุช Memurai (Redis ูู Windows)

#### ุฃ. ุงูุชุญููู
ุงูุชุญ ุงููุชุตูุญ ูุงูุชูู ุฅูู:
```
https://www.memurai.com/get-memurai
```
ุฃู ูุจุงุดุฑุฉ:
```
https://docs.memurai.com/en/installation/windows.html#installing-memurai-using-the-windows-installer
```

#### ุจ. ุงูุชุซุจูุช
1. ุญููู ููู `.msi`
2. ุดุบูู ุงูููู
3. ุงุถุบุท `Next` โ `Next` โ `Install`
4. ุณูุนูู ุชููุงุฆูุงู ูู Windows Service

#### ุฌ. ุงูุชุญูู ูู ุงูุชุดุบูู
ุงูุชุญ PowerShell ูุดุบูู:
```powershell
Get-Service Memurai
```

ูุฌุจ ุฃู ุชุฑู:
```
Status   Name               DisplayName
------   ----               -----------
Running  Memurai            Memurai
```

ุฅุฐุง ูู ููู Runningุ ุดุบููู:
```powershell
Start-Service Memurai
```

### 2๏ธโฃ ุชุดุบูู Celery Worker

ุงูุชุญ PowerShell ุฌุฏูุฏ ูู ูุฌูุฏ `djangoo`:

```powershell
cd F:\watan\djangoo

# ุทุฑููุฉ 1: ุชุดุบูู Worker ููุท
$env:PYTHONPATH="F:\watan\djangoo"
F:\watan\djangoo\venv\Scripts\python.exe -m celery -A celery_app worker --pool=solo --loglevel=info

# ุฃู ุทุฑููุฉ 2: Worker + Beat ูุนุงู (ูุดุบู ุงูููุงู ุงูุฏูุฑูุฉ)
$env:PYTHONPATH="F:\watan\djangoo"
F:\watan\djangoo\venv\Scripts\python.exe -m celery -A celery_app worker --beat --pool=solo --loglevel=info
```

## ๐ ูุง ุณูุญุฏุซ ุจุนุฏ ุงูุชุดุบูู

### 1. ุนูุฏ ุฅูุดุงุก ุทูุจ ุฌุฏูุฏ
```
====================================================================================================
๐ [ูุญุงููุฉ #1] ูุญุต ุญุงูุฉ ุงูุทูุจ: 5565ce34...
====================================================================================================

๐ก ุงุณุชุนูุงู ุนู ุญุงูุฉ ุงูุทูุจ ูู ุงููุฒูุฏ: znet
   ุงููุฑุฌุน: 1760385232943191
   ุงูุญุงูุฉ ุงูุญุงููุฉ: sent

๐ฅ ุงุณุชุฌุงุจุฉ ุงููุฒูุฏ:
   ุงูุญุงูุฉ: processing

๐ ูุนุงูุฌุฉ ุงูุญุงูุฉ:
   ๐ ุงูุญุงูุฉ ูู ุงููุฒูุฏ: processing
   ๐ ุงูุญุงูุฉ ุงููุทุจูุนุฉ: processing
   ๐ ุงูุญุงูุฉ ุงูุฏุงุฎููุฉ ุงูุฌุฏูุฏุฉ: pending
   ๐ ุงูุญุงูุฉ ุงูุญุงููุฉ: pending

โณ ุงูุทูุจ ูุง ูุฒุงู ููุฏ ุงููุนุงูุฌุฉ
   ุงูุญุงูุฉ ุงูุญุงููุฉ: processing โ processing
   ุณูุชู ุฅุนุงุฏุฉ ุงููุญุต ุจุนุฏ 10 ุซูุงูู...
====================================================================================================
```

### 2. ุจุนุฏ 10 ุซูุงูู
```
====================================================================================================
๐ [ูุญุงููุฉ #2] ูุญุต ุญุงูุฉ ุงูุทูุจ: 5565ce34...
====================================================================================================

๐ก ุงุณุชุนูุงู ุนู ุญุงูุฉ ุงูุทูุจ ูู ุงููุฒูุฏ: znet
...
```

### 3. ุนูุฏูุง ููุชูู ุงูุทูุจ
```
๐ฅ ุงุณุชุฌุงุจุฉ ุงููุฒูุฏ:
   ุงูุญุงูุฉ: completed
   PIN Code: ABCD123456...

โ๏ธ ุชุทุจูู ุงูุชูุงู ุงูุญุงูุฉ:
   ูู: pending โ ุฅูู: approved
   ุณูุชู ุชุญุฏูุซ ุงูุฑุตูุฏ...
   โ ูุฌุญ ุชุญุฏูุซ ุงูุญุงูุฉ ูุงูุฑุตูุฏ

โ ุงูุชูู ูุญุต ุงูุทูุจ - ุงูุญุงูุฉ ุงูููุงุฆูุฉ: completed
====================================================================================================
```

### 4. ุงููููุฉ ุงูุฏูุฑูุฉ (ูู 5 ุฏูุงุฆู)
```
####################################################################################################
๐ ุจุฏุก ูุญุต ุฏูุนุฉ ุงูุทูุจุงุช ุงููุนููุฉ...
   ุงูููุช: 2025-10-13 23:00:00
####################################################################################################

๐ ุชู ุงูุนุซูุฑ ุนูู 2 ุทูุจ ูุนูู ูููุญุต

ุงูุทูุจุงุช ุงููุนููุฉ:
   1. 5565ce34... | processing | ุงูุชุธุงุฑ: 3 ุฏูููุฉ
   2. a1b2c3d4... | pending | ุงูุชุธุงุฑ: 7 ุฏูููุฉ

โ ุชู ุฌุฏููุฉ ูุญุต 2 ุทูุจ
####################################################################################################
```

## ๐ง ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุงูุฎุทุฃ: "Cannot connect to redis://localhost:6379"
**ุงูุญู**: ุชุฃูุฏ ูู ุชุดุบูู Memurai:
```powershell
Start-Service Memurai
```

### ุงูุฎุทุฃ: "Module celery_app not found"
**ุงูุญู**: ุงุณุชุฎุฏู PYTHONPATH:
```powershell
$env:PYTHONPATH="F:\watan\djangoo"
```

### ุงูุฎุทุฃ: "No module named celery"
**ุงูุญู**: ุซุจุช celery:
```powershell
cd F:\watan\djangoo
.\venv\Scripts\pip install celery redis django-celery-beat
```

## ๐ ุฅุนุฏุงุฏ ุฏุงุฆู

ูุชุดุบูู Celery ุชููุงุฆูุงู ุนูุฏ ูู ุจุฏุก:

### ุฅูุดุงุก ููู `start_celery.ps1`
```powershell
# F:\watan\djangoo\start_celery.ps1
$env:PYTHONPATH="F:\watan\djangoo"
Set-Location F:\watan\djangoo
& F:\watan\djangoo\venv\Scripts\python.exe -m celery -A celery_app worker --beat --pool=solo --loglevel=info
```

### ุชุดุบููู:
```powershell
cd F:\watan\djangoo
.\start_celery.ps1
```

## ๐ฏ ุงูุฎูุงุตุฉ

ุจุนุฏ ุชุซุจูุช Memurai ูุชุดุบูู Celery:
- โ ุณุชุฑู ุณุฌูุงุช ูุญุต ุงูุทูุจุงุช ูู 10 ุซูุงูู
- โ ุณูุชู ุชุญุฏูุซ ุญุงูุงุช ุงูุทูุจุงุช ุชููุงุฆูุงู
- โ ุณูุชู ุฅุนุงุฏุฉ ุงูุฑุตูุฏ ุนูุฏ ุงูุฅูุบุงุก
- โ ุณุชุธูุฑ ุฌููุน ุงูุณุฌูุงุช ุงูููุตูุฉ ูู Terminal

---

**ุจุนุฏ ุงูุชุซุจูุชุ ุฃูุดุฆ ุทูุจ ุฌุฏูุฏ ูุฑุงูุจ Terminal!** ๐
